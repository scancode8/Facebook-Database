CREATE TABLE USER(
userID INT NOT NULL,
PRIMARY KEY (userID)
);
INSERT INTO USER VALUES(1);
INSERT INTO USER VALUES(2);
INSERT INTO USER VALUES(3);
INSERT INTO USER VALUES(4);
INSERT INTO USER VALUES(5);
INSERT INTO USER VALUES(6);
INSERT INTO USER VALUES(7);
INSERT INTO USER VALUES(8);
INSERT INTO USER VALUES(9);
INSERT INTO USER VALUES(10);

CREATE TABLE PAGE_TYPE(
pageTypeID INT NOT NULL,
userID INT NOT NULL, 
pageDescription TEXT,
PRIMARY KEY(pageTypeID),
FOREIGN KEY(userID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO PAGE_TYPE VALUES(20,1,'ege ceng');
INSERT INTO PAGE_TYPE VALUES(30,2,'ege üniversitesi 2010 girişliler');
INSERT INTO PAGE_TYPE VALUES(50,5, 'tiyatro topluluğu');
INSERT INTO PAGE_TYPE VALUES(80,8, 'müzikDinle');

CREATE TABLE FB_PAGE(
pageTypeID INT NOT NULL,
pageType VARCHAR(20) NOT NULL,
PRIMARY KEY (pageTypeID),
FOREIGN KEY(pageTypeID) REFERENCES PAGE_TYPE(pageTypeID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO FB_PAGE VALUES(20,'college&university');
INSERT INTO FB_PAGE VALUES(80,'music');

CREATE TABLE FB_GROUP(
pageTypeID INT NOT NULL,
groupPrivacy VARCHAR(15) NOT NULL DEFAULT 'public',
PRIMARY KEY (pageTypeID),
FOREIGN KEY(pageTypeID) REFERENCES PAGE_TYPE(pageTypeID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO FB_GROUP VALUES(30,'private');
INSERT INTO FB_GROUP VALUES(50, 'public');

CREATE TABLE CREATES(
userID INT NOT NULL,
pageTypeID INT NOT NULL,
createDate DATE NOT NULL,
PRIMARY KEY(userID,pageTypeID),
FOREIGN KEY (userID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY (pageTypeID) REFERENCES PAGE_TYPE(pageTypeID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO CREATES VALUES(1,20,'2018-11-11');
INSERT INTO CREATES VALUES(2,30,'2016-10-09');
INSERT INTO CREATES VALUES(5,50,'2010-05-23');


CREATE TABLE FOLLOW(
userID INT NOT NULL,
pageTypeID INT NOT NULL,
followDate DATE NOT NULL,
PRIMARY KEY(userID, pageTypeID),
FOREIGN KEY (userID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY (pageTypeID) REFERENCES PAGE_TYPE(pageTypeID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO FOLLOW VALUES(5,20,'2018-09-09');
INSERT INTO FOLLOW VALUES(4,30,'2016-11-02');
INSERT INTO FOLLOW VALUES(10,50,'2011-02-16');


CREATE TABLE fFOLLOWS(
userID INT NOT NULL,
followedUserID INT NOT NULL,
ffollowDate DATE NOT NULL,
CHECK (followedUserID!=userID),  /*CHECK-CONSTRAINT user kendisini takip edemez*/
PRIMARY KEY (userID,followedUserID),
FOREIGN KEY (userID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY (followedUserID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO fFOLLOWS VALUES(5,4,'2018-10-10');
INSERT INTO fFOLLOWS VALUES(1,4,'2015-1-10');
INSERT INTO fFOLLOWS VALUES(4,5,'2018-10-10');
INSERT INTO fFOLLOWS VALUES(1,3,'2017-1-1');


CREATE TABLE FRIENDSHIP(
userID INT NOT NULL,
friendID INT NOT NULL,
friendshipDate DATE NOT NULL,
PRIMARY KEY (userID,friendID),
FOREIGN KEY(userID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY(friendID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO FRIENDSHIP VALUES(1,5,'2016-05-02');
INSERT INTO FRIENDSHIP VALUES(1,2,'2018-10-10');
INSERT INTO FRIENDSHIP VALUES(2,5,'2018-10-11');

CREATE TABLE ABOUT(
aboutID INT NOT NULL,
userID INT NOT NULL,
nickname TEXT,
bio TEXT,
religion TEXT,
relationship_status TEXT,
relatedTo INT,
workplace TEXT,
country TEXT,
city TEXT,
homeland TEXT,
PRIMARY KEY(aboutID),
FOREIGN KEY(userID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY(relatedTo) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO ABOUT VALUES(100,1,'alex','my bio is here','none','single',null,'London','England','Birmingham','NewYork');
INSERT INTO ABOUT VALUES(200,2,'ayşe','i have no bio','Muslim','married',3,'Havelsan','Türkiye','Ankara','İzmir');
INSERT INTO ABOUT VALUES(300,3,'Jonh', 'backpacker', 'Christian', 'married',2, 'city hospital', 'USA', 'california', 'california');
INSERT INTO ABOUT VALUES(400,4,'Sedanur', 'computer engineer', 'Muslim', 'single', 5,'silicon valley', 'Türkiye', 'İzmir', 'çorum');
INSERT INTO ABOUT VALUES(500,5,'Grushenka', 'no bio', 'Judaism', 'has a relationship', 4,'vakıf bank', 'Kıbrıs', 'girne', 'ankara');
INSERT INTO ABOUT VALUES(600,6,'alexa', 'fashion', 'none', 'single',6, 'Alexa chung', 'İngiltere', 'Londra', 'birmingham');
INSERT INTO ABOUT VALUES(700,7,'tomVercetti', 'gameplayer', 'Judaism' ,'got divorced',null, null, 'USA', 'teksas', 'new york');
INSERT INTO ABOUT VALUES(800,8,'ali', null, 'agnostik', 'dul',null, 'aselsan', 'Türkiye', 'ankara', 'ankara');
INSERT INTO ABOUT VALUES(900,9,'ayşegül', 'tatilde', 'kararsız', 'single', null, null,'türkiye', 'istanbul', 'sincan');
INSERT INTO ABOUT VALUES(1000,10,'Hakan', null, 'müslüman', 'evli',1, 'plak şirketi', 'Türkiye', 'muş', 'van');


CREATE TABLE HOBBY( 
about_ID INT NOT NULL,
hobbies TEXT NOT NULL,
PRIMARY KEY (about_ID),
FOREIGN KEY (about_ID) REFERENCES ABOUT(aboutID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

CREATE TABLE EDU(
about_ID INT NOT NULL,
education TEXT NOT NULL,
PRIMARY KEY (about_ID),
FOREIGN KEY (about_ID) REFERENCES ABOUT(aboutID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

CREATE TABLE FB_LANGUAGE(
about_ID INT NOT NULL,
languages TEXT NOT NULL,
PRIMARY KEY (about_ID),
FOREIGN KEY (about_ID) REFERENCES ABOUT(aboutID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

CREATE TABLE INTEREST(
about_ID INT NOT NULL,
interests TEXT NOT NULL,
PRIMARY KEY (about_ID),
FOREIGN KEY (about_ID) REFERENCES ABOUT(aboutID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO HOBBY VALUES(100,'singing');
INSERT INTO HOBBY VALUES(200,'painting');
INSERT INTO HOBBY VALUES(400,'riding bike');
INSERT INTO HOBBY VALUES(500,'reading book');
INSERT INTO HOBBY VALUES(700,'travel');
INSERT INTO HOBBY VALUES(900,'swimming');
INSERT INTO HOBBY VALUES(1000,'music');


INSERT INTO EDU VALUES(100,'high school');
INSERT INTO EDU VALUES(200,'master');
INSERT INTO EDU VALUES(300,'hayat okulu');
INSERT INTO EDU VALUES(400,'Çorum lisesi');
INSERT INTO EDU VALUES(500,'açık lise');
INSERT INTO EDU VALUES(900,'atatürk ortaokulu');


INSERT INTO FB_LANGUAGE VALUES(100,'English, Chinese');
INSERT INTO FB_LANGUAGE VALUES(200,'Turkish,English,German');
INSERT INTO FB_LANGUAGE VALUES(300,'English, Turkish, Syrian');
INSERT INTO FB_LANGUAGE VALUES(400,'Turkish,English,German');
INSERT INTO FB_LANGUAGE VALUES(500,'English, Korean');
INSERT INTO FB_LANGUAGE VALUES(1000,'Turkish');

INSERT INTO INTEREST VALUES(100,'female');
INSERT INTO INTEREST VALUES(200,'male');
INSERT INTO INTEREST VALUES(300,'male');
INSERT INTO INTEREST VALUES(500,'male, female');
INSERT INTO INTEREST VALUES(800,'female');
INSERT INTO INTEREST VALUES(1000,'female');



CREATE TABLE fbACCOUNT(
email VARCHAR(50) NOT NULL,
phoneNo BIGINT NOT NULL,
userID INT NOT NULL,
firstName VARCHAR(60) NOT NULL,
lastName VARCHAR(60) NOT NULL,
gender VARCHAR(10) NOT NULL,
fb_password VARCHAR(100) NOT NULL,
birthdate DATE NOT NULL,
CHECK (birthdate<CURDATE()), /*CHECK-CONSTRAINT doğum tarihi gelecek olamaz*/
PRIMARY KEY(userID,email,phoneNo),
FOREIGN KEY(userID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO fbACCOUNT VALUES('alex123@gmail.com',05555555555,1,'Alexander','Turner','male','alex1980','1980-02-07');
INSERT INTO fbACCOUNT VALUES('ayseozturk@gmail.com',05554445544,2,'Ayşe','Öztürk','female','ayşeöztürk90','1991-10-12');
INSERT INTO fbACCOUNT VALUES('john@gmail.com',97823542335,3,'John','Strawberry','male','john123','1950-09-07');
INSERT INTO fbACCOUNT VALUES('sedanurekr@gmail.com',32566699988,4,'Sedanur','EKER','female','sedo123','1996-08-23');
INSERT INTO fbACCOUNT VALUES('ozge@gmail.com',7896655211,5,'Özge','ERGÜN','female','1997','1997-07-23');
INSERT INTO fbACCOUNT VALUES('alexa@gmail.com',1235448896,6,'Alexa','chung','female','alexach','1985-10-12');
INSERT INTO fbACCOUNT VALUES('tommy@gmail.com',03156889744,7,'Tom','Vercetti','male','killer123','1992-02-05');
INSERT INTO fbACCOUNT VALUES('aliKaya@gmail.com',056981355244,8,'Ali','Kaya','male','aliK','1985-01-12');
INSERT INTO fbACCOUNT VALUES('aysegull@gmail.com',123654879962,9,'Ayşegul','Fıstık','female','gulayse2006','2006-11-18');
INSERT INTO fbACCOUNT VALUES('gelişigüzel@gmail.com',596482213655,10,'hakan','gelişigüzel','male','hakan123','1960-04-12');


CREATE TABLE SETTINGS(
settingsID INT NOT NULL,
userID INT NOT NULL,
notificationsAreOpened BOOL NOT NULL DEFAULT 1,
setPrivacy VARCHAR(10) NOT NULL DEFAULT 'public',
lastSeenIsOpened BOOL NOT NULL DEFAULT 1,
PRIMARY KEY (settingsID),
FOREIGN KEY (userID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO SETTINGS VALUES(101,1,1,'public',1);
INSERT INTO SETTINGS VALUES(201,2,1,'private',1);
INSERT INTO SETTINGS VALUES(301,3,1,'private',1);
INSERT INTO SETTINGS VALUES(401,4,0,'private',0);
INSERT INTO SETTINGS VALUES(501,5,1,'public',1);
INSERT INTO SETTINGS VALUES(601,6,1,'public',0);
INSERT INTO SETTINGS VALUES(701,7,1,'public',0);
INSERT INTO SETTINGS VALUES(801,8,0,'private',1);
INSERT INTO SETTINGS VALUES(901,9,1,'public',1);
INSERT INTO SETTINGS VALUES(1001,10,0,'private',1);

CREATE TABLE SOCIAL_MEDIA(
social_ID INT NOT NULL,
userID INT ,
pageTypeID INT,
LinkedIn TEXT,
Twitter TEXT,
Instagram TEXT, 
WebPage TEXT,
PRIMARY KEY(social_ID),
FOREIGN KEY(userID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY(pageTypeID) REFERENCES PAGE_TYPE(pageTypeID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO SOCIAL_MEDIA(social_ID,userID,Twitter,WebPage) VALUES(1001,1,'AlexTurner','ArcticMonkeys.com');
INSERT INTO SOCIAL_MEDIA(social_ID,userID,LinkedIn,Instagram) VALUES(2001,2,'AyseOzturk90','Ayse.Ozturk90');
INSERT INTO SOCIAL_MEDIA(social_ID,userID,Twitter,Instagram,LinkedIn) VALUES(4001,4,'Sedanurekr','sedaa','SedanurEKER');
INSERT INTO SOCIAL_MEDIA(social_ID,userID,LinkedIn,Instagram) VALUES(5001,5,'Özge','Özge97');
INSERT INTO SOCIAL_MEDIA(social_ID,userID,Twitter,WebPage) VALUES(7001,7,'tommy','tom.com.gta');
INSERT INTO SOCIAL_MEDIA(social_ID,pageTypeID,Twitter,WebPage) VALUES(8001,80,'muzikSev','muzikSev.com.tr');

CREATE TABLE POST(
postID INT NOT NULL,
userID INT,
pageTypeID INT,
postPrivacy VARCHAR(10) NOT NULL DEFAULT 'public',
postLocation TEXT,
description TEXT,
PRIMARY KEY (postID),
FOREIGN KEY (userID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY (pageTypeID) REFERENCES PAGE_TYPE(pageTypeID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO POST(postID,userID,postPrivacy,postLocation,description) VALUES (11,1,'public','Los Angeles','a photo from our concert');
INSERT INTO POST(postID,userID,postPrivacy,postLocation,description) VALUES (12,2,'private','Ankara','Anıtkabir gezisi');
INSERT INTO POST(postID,userID,postPrivacy,postLocation,description) VALUES (13,3,'public','İstanbul','boğaz havası aldık');
INSERT INTO POST(postID,userID,postPrivacy,postLocation,description) VALUES (14,3,'public','İstanbul','Eminönünde balık ekmek :))');
INSERT INTO POST(postID,userID,postPrivacy,postLocation,description) VALUES (15,4,'private','Los Angeles','Mark Zuckerberg ile akşam yemeği');
INSERT INTO POST(postID,userID,postPrivacy,postLocation,description) VALUES (16,4,'private','İzmir','yine döndük okula');
INSERT INTO POST(postID,userID,postPrivacy,postLocation,description) VALUES (17,5,'public','manisa','spil dağı :)');
INSERT INTO POST(postID,userID,postPrivacy,postLocation,description) VALUES (18,5,'public','İzmir','database projemizi yapıyoruzzzz');
INSERT INTO POST(postID,userID,postPrivacy,postLocation,description) VALUES (19,6,'public','Londra','a photo from fashion week');
INSERT INTO POST(postID,userID,postPrivacy,postLocation,description) VALUES (20,7,'public','İzmir','kordon...');
INSERT INTO POST(postID,userID,postPrivacy,postLocation,description) VALUES (21,8,'private','Mexico','yeni yerler görelm dedik');
INSERT INTO POST(postID,userID,postPrivacy,postLocation,description) VALUES (22,9,'public','Çorum','Dünyanın merkezindeyiz ');
INSERT INTO POST(postID,userID,postPrivacy,postLocation,description) VALUES (23,9,'public','Çorum','ailecek leblebi yerken');
INSERT INTO POST(postID,userID,postPrivacy,postLocation,description) VALUES (24,10,'private','İzmir','Foçada günbatımı...');
INSERT INTO POST(postID,pageTypeID,postPrivacy,postLocation,description) VALUES (25,50,'public','İzmir','turneden');
INSERT INTO POST(postID,pageTypeID,postPrivacy,postLocation,description) VALUES (26,80,'private','İzmir','Müzik dinletisi');


CREATE TABLE TIMELINE(
timelineID INT NOT NULL,
userID INT NOT NULL,
postID INT NOT NULL,
PRIMARY KEY (timelineID,postID),
FOREIGN KEY (userID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY (postID) REFERENCES POST(postID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO TIMELINE VALUES(111,1,11); 
INSERT INTO TIMELINE VALUES(112,2,12); 
INSERT INTO TIMELINE VALUES(113,3,13); 
INSERT INTO TIMELINE VALUES(113,3,14); 
INSERT INTO TIMELINE VALUES(114,4,15); 
INSERT INTO TIMELINE VALUES(114,4,16); 
INSERT INTO TIMELINE VALUES(115,5,17); 
INSERT INTO TIMELINE VALUES(115,5,18); 
INSERT INTO TIMELINE VALUES(116,6,19); 
INSERT INTO TIMELINE VALUES(117,7,20); 
INSERT INTO TIMELINE VALUES(118,8,21); 
INSERT INTO TIMELINE VALUES(119,9,22); 
INSERT INTO TIMELINE VALUES(119,9,23); 
INSERT INTO TIMELINE VALUES(120,10,24); 


CREATE TABLE UPLOADS (
postID INT NOT NULL,
pageTypeID INT NOT NULL,
pagePostDate DATE NOT NULL,
PRIMARY KEY (postID,pageTypeID),
FOREIGN KEY (pageTypeID) REFERENCES PAGE_TYPE(pageTypeID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY (postID) REFERENCES POST(postID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO UPLOADS VALUES(25,50,'2016-10-11');
INSERT INTO UPLOADS VALUES(26,80,'2015-09-25');

CREATE TABLE POSTS(
postID INT NOT NULL,
userID INT NOT NULL,
postDate DATE NOT NULL,
PRIMARY KEY(postID),
FOREIGN KEY (userID) references USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO POSTS VALUES(11,1,'2017-02-02');
INSERT INTO POSTS VALUES(12,2,'2006-03-02');
INSERT INTO POSTS VALUES(13,3,'2017-12-12');
INSERT INTO POSTS VALUES(14,3,'2009-04-21');
INSERT INTO POSTS VALUES(15,4,'2015-06-19');
INSERT INTO POSTS VALUES(16,4,'2010-02-15');
INSERT INTO POSTS VALUES(17,5,'2007-07-02');
INSERT INTO POSTS VALUES(18,5,'2018-10-16');
INSERT INTO POSTS VALUES(19,6,'2014-09-19');
INSERT INTO POSTS VALUES(20,7,'2008-03-12');
INSERT INTO POSTS VALUES(21,8,'2005-08-22');
INSERT INTO POSTS VALUES(22,9,'2003-11-22');
INSERT INTO POSTS VALUES(23,9,'2017-08-25');
INSERT INTO POSTS VALUES(24,10,'2017-02-10');


CREATE TABLE LIFE_EVENT(
postID INT NOT NULL,
event_type TEXT NOT NULL,
PRIMARY KEY (postID),
FOREIGN KEY (postID) REFERENCES POST(postID)
ON DELETE CASCADE
ON UPDATE CASCADE
);
INSERT INTO LIFE_EVENT VALUES(15,'iş yemeği');
INSERT INTO LIFE_EVENT VALUES(18,'proje');
INSERT INTO LIFE_EVENT VALUES(22,'önemli gelişme');

CREATE TABLE CHECKIN(
postID INT NOT NULL,
checkedPlace TEXT NOT NULL,
PRIMARY KEY (postID),
FOREIGN KEY (postID) REFERENCES POST(postID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO CHECKIN VALUES(12,'Ankara');
INSERT INTO CHECKIN VALUES(16,'İzmir');
INSERT INTO CHECKIN VALUES(17,'Manisa');
INSERT INTO CHECKIN VALUES(21,'Mexico');


CREATE TABLE LIVE_VIDEO(
postID INT NOT NULL,
duration TIME NOT NULL DEFAULT '00:00:00',
PRIMARY KEY (postID),
FOREIGN KEY (postID) REFERENCES POST(postID)
ON DELETE CASCADE
ON UPDATE CASCADE
);
INSERT INTO LIVE_VIDEO VALUES(13,'00:03:17');
INSERT INTO LIVE_VIDEO VALUES(25,'00:20:07');
INSERT INTO LIVE_VIDEO VALUES(26,'00:50:56');

CREATE TABLE PHOTO_VIDEO(
postID INT NOT NULL,
pvResolution TINYINT, 
PRIMARY KEY (postID),
FOREIGN KEY (postID) REFERENCES POST(postID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO PHOTO_VIDEO VALUES(11,17);
INSERT INTO PHOTO_VIDEO VALUES(14,5);


CREATE TABLE ALBUM(
postID INT NOT NULL,
albumName TEXT NOT NULL,
pvResolution TINYINT, 
PRIMARY KEY (postID),
FOREIGN KEY (postID) REFERENCES POST(postID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO ALBUM VALUES (11,'gezi',10);

CREATE TABLE STORY(
postID INT NOT NULL,
storyDuration TIME NOT NULL DEFAULT '00:00:00',
PRIMARY KEY (postID),
FOREIGN KEY (postID) REFERENCES POST(postID)
ON DELETE CASCADE
ON UPDATE CASCADE
);
INSERT INTO STORY VALUES(19,'01:15:07');
INSERT INTO STORY VALUES(23,'00:05:07');

CREATE TABLE UPLOADEDPHOTO(
postID INT NOT NULL,
pvResolution INT,
uploadDate DATE NOT NULL,
PRIMARY KEY (postID),
FOREIGN KEY (postID) REFERENCES POST(postID)
ON DELETE CASCADE
ON UPDATE CASCADE
);


INSERT INTO UPLOADEDPHOTO VALUES(11,17,'2017-02-02');


CREATE TABLE TAGGEDPHOTO(
postID INT NOT NULL,
pv_resolution INT,
friendID INT NOT NULL,
PRIMARY KEY (postID),
FOREIGN KEY (postID) REFERENCES POST(postID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY(friendID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

CREATE TABLE FB_STATUS(
postID INT NOT NULL,
feeling TEXT,
PRIMARY KEY (postID),
FOREIGN KEY (postID) REFERENCES POST(postID)
ON DELETE CASCADE
ON UPDATE CASCADE
);


INSERT INTO FB_STATUS VALUES(20,'happy');

CREATE TABLE POSTINGTO_WALL(
postID INT NOT NULL,
wallID INT NOT NULL,
PRIMARY KEY (postID),
FOREIGN KEY (postID) REFERENCES POST(postID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY (wallID) REFERENCES TIMELINE(timelineID)
ON DELETE CASCADE
ON UPDATE CASCADE
);
INSERT INTO POSTINGTO_WALL VALUES(24,111);

CREATE TABLE INTERACTION(
interactionID INT NOT NULL,
userID INT,
postID INT NOT NULL,
pageTypeID INT,
PRIMARY KEY (interactionID),
FOREIGN KEY (userID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY (postID) REFERENCES POST(postID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY (pageTypeID) REFERENCES PAGE_TYPE(pageTypeID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1111,5,11);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1112,6,11);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1113, 10, 11);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1114,2,11);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1115,3,12);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1116, 4, 12);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1117, 10, 13);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1118,2,14);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1119,5,13);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1120, 4, 13);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1121, 10, 14);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1122,2,15);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1123,5,16);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1124, 5, 17);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1125, 4, 17);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1126, 2, 18);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1127,3,19);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1128,5,19);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1129, 6, 19);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1130,3,20);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1131,6,21);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1132, 8, 21);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1133, 5, 22);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1134,8,23);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1135,1,25);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1136, 8, 25);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1137,3,25);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1138, 9, 25);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1139,2,25);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1140, 8, 26);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1141,3,26);
INSERT INTO INTERACTION (interactionID,userID,postID) VALUES(1142, 7, 26);
INSERT INTO INTERACTION (interactionID,pageTypeID,postID) VALUES(1143,50,26);
INSERT INTO INTERACTION (interactionID,pageTypeID,postID) VALUES(1144, 80, 26);
INSERT INTO INTERACTION (interactionID,pageTypeID,postID) VALUES(1145,20,26);
INSERT INTO INTERACTION (interactionID,pageTypeID,postID) VALUES(1146, 30, 26);


CREATE TABLE fSHARE(
interactionID INT NOT NULL,
description TEXT,
PRIMARY KEY(interactionID),
FOREIGN KEY (interactionID) REFERENCES INTERACTION(interactionID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO fSHARE VALUES(1131,'aa mexicoo');

CREATE TABLE COMMAND(
interactionID INT NOT NULL,
content TEXT NOT NULL,
PRIMARY KEY(interactionID),
FOREIGN KEY (interactionID) REFERENCES INTERACTION(interactionID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO COMMAND VALUES(1124, 'gelirken mesir getir bize');
INSERT INTO COMMAND VALUES(1130, 'izmire hoşgeldiin..');
INSERT INTO COMMAND VALUES(1132, 'bana ordan ne getireceksin..');
INSERT INTO COMMAND VALUES(1133, 'hayırlı olsun :) ');

CREATE TABLE TAG(
interactionID INT NOT NULL,
taggedID INT NOT NULL,
PRIMARY KEY(interactionID),
FOREIGN KEY (interactionID) REFERENCES INTERACTION(interactionID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY(taggedID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE
);
INSERT INTO TAG VALUES(1129, 1);
INSERT INTO TAG VALUES(1118, 10);

CREATE TABLE INTERESTEDIN(
interactionID INT NOT NULL,
isInterested BOOL NOT NULL,
PRIMARY KEY(interactionID),
FOREIGN KEY (interactionID) REFERENCES INTERACTION(interactionID)
ON DELETE CASCADE
ON UPDATE CASCADE
);
INSERT INTO INTERESTEDIN VALUES(1122,1);
INSERT INTO INTERESTEDIN VALUES(1126,0);


CREATE TABLE STORYWATCHING(
interactionID INT NOT NULL,
watchedID INT NOT NULL,
PRIMARY KEY(interactionID),
FOREIGN KEY (interactionID) REFERENCES INTERACTION(interactionID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY (watchedID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE

);
INSERT INTO STORYWATCHING VALUES(1117,2);
INSERT INTO STORYWATCHING VALUES(1120,7);
INSERT INTO STORYWATCHING VALUES(1127,3); 
INSERT INTO STORYWATCHING VALUES(1128,5);
INSERT INTO STORYWATCHING VALUES(1119,8);
INSERT INTO STORYWATCHING VALUES(1135,2);
INSERT INTO STORYWATCHING VALUES(1136,3); 
INSERT INTO STORYWATCHING VALUES(1137,5);
INSERT INTO STORYWATCHING VALUES(1138,6);
INSERT INTO STORYWATCHING VALUES(1139,10);
INSERT INTO STORYWATCHING VALUES(1140,1);
INSERT INTO STORYWATCHING VALUES(1141,2);
INSERT INTO STORYWATCHING VALUES(1142,4);

CREATE TABLE FB_LIKE(
interactionID INT NOT NULL,
likeType VARCHAR(15) NOT NULL DEFAULT 'like',
PRIMARY KEY(interactionID),
FOREIGN KEY (interactionID) REFERENCES INTERACTION(interactionID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO FB_LIKE VALUES(1111,'sad-face'); 
INSERT INTO FB_LIKE VALUES(1112,'angry-face');
INSERT INTO FB_LIKE VALUES(1113,'love');
INSERT INTO FB_LIKE VALUES(1114,'sad-face');
INSERT INTO FB_LIKE VALUES(1115,'like');
INSERT INTO FB_LIKE VALUES(1116,'like');
INSERT INTO FB_LIKE VALUES(1134,'surprise-face');
INSERT INTO FB_LIKE VALUES(1121,'love');
INSERT INTO FB_LIKE VALUES(1123,'sad-face'); 
INSERT INTO FB_LIKE VALUES(1125,'like'); 

CREATE TABLE SEND( /*userın gönderdiği interactionlar*/
interactionID INT NOT NULL,
userID INT NOT NULL,
interactionDate DATE NOT NULL,
PRIMARY KEY(interactionID),
FOREIGN KEY (userID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1111,5,'2018-09-11');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1112,6,'2017-10-11');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1113, 10, '2018-11-10');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1114,2,'2018-04-20');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1115,3,'2018-05-13');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1116, 4, '2016-03-18');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1117, 10, '2015-09-11');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1118,2,'2018-09-11');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1119,5,'2014-11-30');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1120, 4, '2017-02-21');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1121, 10, '2018-07-14');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1122,2,'2014-02-13');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1123,5,'2015-12-30');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1124, 5, '2013-09-20');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1125, 4, '2018-10-21');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1126, 2, '2018-03-14');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1127,3,'2017-08-14');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1128,5,'2016-10-17');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1129, 6, '2016-10-18');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1130,3,'2018-05-20');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1131,6,'2017-07-17');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1132, 8, '2016-10-12');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1133, 5, '2015-02-23');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1134,8,'2018-01-10');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1135,1,'2018-03-20');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1136, 8, '2018-12-11');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1137,3,'2009-10-16');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1138, 9, '2017-06-14');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1139,2,'2014-09-25');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1140, 8, '2016-05-18');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1141,3,'2018-12-12');
INSERT INTO SEND (interactionID,userID,interactionDate) VALUES(1142, 7, '2018-08-18');


CREATE TABLE INTERACTS(
interactionID INT NOT NULL,
pageTypeID INT NOT NULL,
interactDate DATE NOT NULL,
PRIMARY KEY(interactionID,pageTypeID),
FOREIGN KEY (interactionID) REFERENCES INTERACTION(interactionID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY (pageTypeID) REFERENCES PAGE_TYPE(pageTypeID)
ON DELETE CASCADE
ON UPDATE CASCADE

);

INSERT INTO INTERACTS (interactionID,pageTypeID,interactDate) VALUES(1143,50,'2018-08-18');
INSERT INTO INTERACTS (interactionID,pageTypeID,interactDate) VALUES(1144, 80, '2018-12-11');
INSERT INTO INTERACTS (interactionID,pageTypeID,interactDate) VALUES(1145,20,'2016-10-18');
INSERT INTO INTERACTS (interactionID,pageTypeID,interactDate) VALUES(1146, 30, '2015-09-11');

CREATE TABLE MESSAGE(
userID INT,
messageID INT NOT NULL,
postID INT,
pageTypeID INT,
isSeen BOOL NOT NULL DEFAULT 0,
messageContent TEXT NOT NULL,
PRIMARY KEY(messageID),
FOREIGN KEY (userID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY (postID) REFERENCES POST(postID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY (pageTypeID) REFERENCES PAGE_TYPE(pageTypeID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO MESSAGE(userID,messageID,isSeen,messageContent) VALUES(2,900,0,'merhaba');
INSERT INTO MESSAGE(userID,messageID,isSeen,messageContent) VALUES(3,901,1,'nasılsın');
INSERT INTO MESSAGE(userID,messageID,isSeen,messageContent) VALUES(10,902,1,'yarın buluşalım');
INSERT INTO MESSAGE(userID,messageID,isSeen,messageContent) VALUES(7,903,0,'dersteyim');
INSERT INTO MESSAGE(userID,messageID,isSeen,messageContent) VALUES(9,904,1,'okay');
INSERT INTO MESSAGE(pageTypeID,messageID,postID,isSeen,messageContent) VALUES(50,905,11,0,'bu konsere gitmeliydik'); /*page mesaj gönderiyor*/

CREATE TABLE MESSAGES(  
gondericiID INT NOT NULL,
messageID INT NOT NULL,
messageDate DATE NOT NULL,
PRIMARY KEY (messageID),
FOREIGN KEY (gondericiID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE

);

INSERT INTO MESSAGES VALUES(2,900,'2018-02-15');
INSERT INTO MESSAGES VALUES(3,901,'2018-12-11');
INSERT INTO MESSAGES VALUES(10,902,'2017-05-18');
INSERT INTO MESSAGES VALUES(7,903,'2016-01-11');
INSERT INTO MESSAGES VALUES(9,904,'2012-04-24');
INSERT INTO MESSAGES VALUES(50,905,'2015-05-23'); /*page mesaj gönderiyor*/

CREATE TABLE ALICI( /*multivalued*/
messageID INT NOT NULL,
aliciID INT NOT NULL,
PRIMARY KEY (messageID,aliciID),
FOREIGN KEY (messageID) REFERENCES MESSAGE(messageID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY (aliciID) REFERENCES USER(userID)
ON DELETE CASCADE
ON UPDATE CASCADE

);

INSERT INTO ALICI VALUES(900,1);
INSERT INTO ALICI VALUES(901,2);
INSERT INTO ALICI VALUES(902,7);
INSERT INTO ALICI VALUES(902,3);
INSERT INTO ALICI VALUES(903,5);
INSERT INTO ALICI VALUES(904,4);
INSERT INTO ALICI VALUES(904,5);
INSERT INTO ALICI VALUES(905,5);

CREATE TABLE SEND_MESSAGE(
postID INT NOT NULL,
messageID INT NOT NULL,
mdate DATE NOT NULL,
PRIMARY KEY (messageID),
FOREIGN KEY (postID) REFERENCES POST(postID)
ON DELETE CASCADE
ON UPDATE CASCADE
);

INSERT INTO SEND_MESSAGE VALUES(11, 905,'2015-05-23'); 

DELETE FROM PAGE_TYPE WHERE pageTypeID=20;

SELECT * FROM fb_PAGE;
DELETE FROM USER WHERE userID=1;

SELECT postID FROM POST;
SELECT timelineID FROM TIMELINE;
SELECT * FROM ALICI;
SELECT * FROM MESSAGE;
SELECT userID FROM SEND;*/

/*SELECT * FROM MESSAGE;
SELECT * FROM MESSAGES;
SELECT * FROM ALICI;*/

/*mevcut interactionı olmayan postlar hangileri? */
SELECT postID FROM POST p WHERE
NOT EXISTS(SELECT * 
FROM INTERACTION i
WHERE i.postID = p.postID);


/*Kullanıcıların medeni halleri*/
SELECT firstName, lastName, relationship_status FROM ABOUT, fbACCOUNT
WHERE ABOUT.userID=fbACCOUNT.userID;

/*Kadınları doğum tarihine göre sırala*/
SELECT firstName, lastName, birthdate FROM ABOUT, fbACCOUNT
WHERE gender='female' AND ABOUT.userID=fbACCOUNT.userID
ORDER BY birthdate;

/*5 nolu userın takip ettikleri */
SELECT FOLLOW.pageTypeID as takip_ettigi_sayfa_no
FROM FOLLOW
WHERE FOLLOW.userID=5 ;
SELECT fFOLLOWS.followeduserID as takip_ettigi_kisi_no
FROM fFOLLOWS WHERE fFOLLOWS.userID=5;


/*Hangi user kaç post paylaşmış*/
SELECT userID, COUNT(*) FROM POST
GROUP BY userID;


/*sayfa oluşturmuş kullanıcılar arasında dogum tarihi 1990-2000 arasında olan kullanıcıların bilgileri*/
SELECT  * FROM CREATES, fbACCOUNT
WHERE CREATES.userID=fbACCOUNT.userID AND fbACCOUNT.birthdate>'1990-01-01' AND fbACCOUNT.birthdate<'2000-01-01';

/*Önemli gelişmelere gelen yorumlar*/
SELECT COMMAND.content 
FROM COMMAND, LIFE_EVENT, INTERACTION
WHERE LIFE_EVENT.postID=INTERACTION.postID AND
COMMAND.interactionID=INTERACTION.interactionID;


/*Hobby bilgisi olan kullanıcıların sosyal medya hesapları*/
SELECT * FROM SOCIAL_MEDIA, HOBBY, ABOUT
WHERE HOBBY.about_ID=ABOUT.aboutID AND SOCIAL_MEDIA.userID=ABOUT.userID;


/*Checkin yapan kullanıcıların isimleri ve checkin yaptığı yerler*/
SELECT firstName, lastName, CHECKIN.checkedPlace 
FROM POST, fbACCOUNT, CHECKIN
WHERE POST.postID=CHECKIN.postID AND fbACCOUNT.userID=POST.userID;

/*eğitim bilgisi ekleyen kullanıcıların adı soyadı ve çalıştığı yerler*/
SELECT firstName, lastName, ABOUT.workPlace
FROM fbACCOUNT, EDU, ABOUT
WHERE EDU.about_ID=ABOUT.aboutID AND fbACCOUNT.userID=ABOUT.userID;

/*update DELETE*/
UPDATE PAGE_TYPE
SET pageDescription='ege computer engineering' WHERE pageDescription='ege ceng';
select * from PAGE_TYPE;

DELETE from PAGE_TYPE WHERE pageDescription='müzikDinle';
select * from PAGE_TYPE;

UPDATE SETTINGS
SET setPrivacy='private'
WHERE userID=1;
SELECT * FROM SETTINGS;

delete from SETTINGS WHERE userID=1;
SELECT * FROM SETTINGS;

DELETE from fbACCOUNT WHERE email='john@gmail.com';
select * from fbACCOUNT;
UPDATE fbACCOUNT
SET email='ozgeNur@gmail.com' WHERE userID=5;
select * from fbACCOUNT;
